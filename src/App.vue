<template>
  <div id="app">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
         style="position:absolute;width:0;height:0;visibility:hidden">
      <defs>
        <symbol id="icon-arrow" viewBox="0 0 8 16">
          <path
            d="M.146 7.646a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7v.708l7-7a.5.5 0 0 0-.708-.708l-7 7z"></path>
        </symbol>
        <symbol id="icon-search" viewBox="0 0 17 18">
          <path
            d="M12.775 14.482l3.371 3.372a.5.5 0 0 0 .708-.708l-3.372-3.37-1.817-1.818a.5.5 0 1 0-.707.707l1.817 1.817zM1 7.14a6 6 0 1 1 12 0 6 6 0 0 1-12 0zm13 0a7 7 0 1 0-14 0 7 7 0 0 0 14 0z"></path>
        </symbol>

        <symbol id="icon-close" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="9765">
          <path
            d="M507.168 473.232L716.48 263.936a16 16 0 0 1 22.624 0l11.312 11.312a16 16 0 0 1 0 22.624L541.12 507.168 750.4 716.48a16 16 0 0 1 0 22.624l-11.312 11.312a16 16 0 0 1-22.624 0L507.168 541.12 297.872 750.4a16 16 0 0 1-22.624 0l-11.312-11.312a16 16 0 0 1 0-22.624l209.296-209.312-209.296-209.296a16 16 0 0 1 0-22.624l11.312-11.312a16 16 0 0 1 22.624 0l209.296 209.296z"
            p-id="9766"></path>
        </symbol>
        <symbol id="icon-author" viewBox="0 0 10 12">
          <path
            d="M6.375 6.683C7.053 5.873 7.5 4.649 7.5 3.6 7.5 2.023 6.462 1 5 1S2.5 2.023 2.5 3.6c0 1.05.447 2.274 1.125 3.083a1 1 0 0 1-.463 1.595C1.79 8.715 1 9.537 1 10.5c0-.106-.036-.165-.012-.147.136.1.39.21.743.308C2.52 10.88 3.675 11 5 11c1.325 0 2.48-.12 3.27-.339.352-.097.606-.208.742-.308.024-.018-.012.04-.012.147 0-.963-.789-1.785-2.162-2.222a1 1 0 0 1-.463-1.595zm1.18.071a5.23 5.23 0 0 1-.414.571c.226.072.444.155.653.25l.306.15C9.222 8.32 10 9.268 10 10.5c0 1-2.239 1.5-5 1.5s-5-.5-5-1.5c0-1.232.778-2.179 1.9-2.775l.306-.15c-.306.15.427-.178.653-.25a5.23 5.23 0 0 1-.414-.57l-.17-.287C1.79 5.59 1.5 4.55 1.5 3.6 1.5 1.39 3.067 0 5 0s3.5 1.39 3.5 3.6c0 .951-.29 1.991-.775 2.868l-.17.286z"></path>
        </symbol>

        <symbol id="icon-arrow-r" viewBox="0 0 7 12">
          <path
            d="M6.146 6.354v-.708l-5.5 5.5a.5.5 0 0 0 .708.708l5.5-5.5a.5.5 0 0 0 0-.708l-5.5-5.5a.5.5 0 1 0-.708.708l5.5 5.5z"></path>
        </symbol>
        <symbol id="icon-book" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2904">
          <path
            d="M648.84736 775.49568c-40.73472 0-107.74528 11.63264-116.46976 37.84704h-37.84704c-11.65312-26.19392-75.71456-37.84704-116.49024-37.84704H162.6112v-564.8384h232.91904c49.50016 0 93.16352 26.19392 116.46976 64.04096 23.30624-37.84704 66.99008-64.04096 116.46976-64.04096H861.3888v564.85888H648.84736z m-154.3168-448.38912c0-46.57152-49.50016-78.60224-96.07168-78.60224H203.38688v486.23616h174.67392c37.86752 0 99.00032 0 116.49024 29.12256V327.10656z m329.0112-78.60224h-195.072c-49.47968 0-96.07168 32.01024-96.07168 78.60224v433.82784c17.48992-29.12256 78.60224-29.12256 116.46976-29.12256h174.6944V248.50432z m0 0"
            fill="" p-id="2905"></path>
        </symbol>
        <symbol id="icon-remove" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="5161">
          <path
            d="M512 106.666667a405.333333 405.333333 0 1 0 405.333333 405.333333A405.333333 405.333333 0 0 0 512 106.666667z m120.533333 489.6a25.621333 25.621333 0 0 1 0 36.266666 25.749333 25.749333 0 0 1-36.266666 0L512 548.266667l-84.266667 84.266666a25.749333 25.749333 0 0 1-36.266666 0 25.621333 25.621333 0 0 1 0-36.266666L475.733333 512l-84.266666-84.266667a25.642667 25.642667 0 0 1 36.266666-36.266666L512 475.733333l84.266667-84.266666a25.642667 25.642667 0 0 1 36.266666 36.266666L548.266667 512z"
            fill="#d81e06" p-id="5162"></path>
        </symbol>
        <symbol id='icon-delete' class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="1561">
          <path d="M663 361.6h51.2v440.6H663z" fill="#24BC77" p-id="1562"></path>
          <path
            d="M772.3 219.5c0.5-4.5 0.8-9 0.8-13.4v-18.4c0-68.1-55.4-123.5-123.5-123.5H374.2c-68.1 0-123.5 55.4-123.5 123.5v18.4c0 4.5 0.3 9 0.8 13.4H71.2v51.2h102.5v607.8c0 44.7 36.4 81 81 81h514.1c44.7 0 81-36.4 81-81V270.7h102.6v-51.2H772.3z m-467.4-13.4v-18.4c0-38.2 31.1-69.2 69.3-69.2h275.4c38.2 0 69.3 31.1 69.3 69.2v18.4c0 4.5-0.5 9-1.4 13.4H304.8l1.3-0.3c-0.8-4.2-1.2-8.7-1.2-13.1zM798 878.5c0 16.1-13.1 29.1-29.1 29.1H254.8c-16.1 0-29.1-13.1-29.1-29.1V270.7H798v607.8z"
            fill="#24BC77" p-id="1563"></path>
          <path d="M484 361.6h51.2v440.6H484zM305 361.6h51.2v440.6H305z" fill="#24BC77" p-id="1564"></path>
        </symbol>
        <symbol id='icon-tick' class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="1289">
          <path
            d="M832 0H192C85.952 0 0 86.016 0 192v640a192 192 0 0 0 192 192h640a192 192 0 0 0 192-192V192c0-105.984-85.952-192-192-192z m64 832c0 35.392-28.608 64-64 64H192a64 64 0 0 1-64-64V192c0-35.328 28.672-64 64-64h640a64 64 0 0 1 64 64v640zM669.376 330.88L443.136 557.12l-90.56-90.496c-24.96-25.024-65.472-25.024-90.496 0s-25.024 65.536 0 90.496l135.808 135.744a63.936 63.936 0 0 0 90.496 0l271.488-271.488c25.024-25.024 25.024-65.472 0-90.496s-65.472-25.024-90.496 0z"
            fill="#8a8a8a" p-id="1290"></path>
        </symbol>
        <symbol id='icon-delete-white' class="icon" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="1561">
          <path d="M663 361.6h51.2v440.6H663z" fill="#ffffff" p-id="1562"></path>
          <path
            d="M772.3 219.5c0.5-4.5 0.8-9 0.8-13.4v-18.4c0-68.1-55.4-123.5-123.5-123.5H374.2c-68.1 0-123.5 55.4-123.5 123.5v18.4c0 4.5 0.3 9 0.8 13.4H71.2v51.2h102.5v607.8c0 44.7 36.4 81 81 81h514.1c44.7 0 81-36.4 81-81V270.7h102.6v-51.2H772.3z m-467.4-13.4v-18.4c0-38.2 31.1-69.2 69.3-69.2h275.4c38.2 0 69.3 31.1 69.3 69.2v18.4c0 4.5-0.5 9-1.4 13.4H304.8l1.3-0.3c-0.8-4.2-1.2-8.7-1.2-13.1zM798 878.5c0 16.1-13.1 29.1-29.1 29.1H254.8c-16.1 0-29.1-13.1-29.1-29.1V270.7H798v607.8z"
            fill="#ffffff" p-id="1563"></path>
          <path d="M484 361.6h51.2v440.6H484zM305 361.6h51.2v440.6H305z" fill="#ffffff" p-id="1561"></path>
        </symbol>

        <symbol id='icon-share' class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="1273">
          <path
            d="M768 711.111111c-31.288889 0-59.733333 11.377778-85.333333 28.444445l-372.622223-213.333334c0-5.688889 2.844444-11.377778 2.844445-14.222222s0-11.377778-2.844445-14.222222L682.666667 284.444444c22.755556 17.066667 54.044444 28.444444 85.333333 28.444445 79.644444 0 142.222222-62.577778 142.222222-142.222222s-62.577778-142.222222-142.222222-142.222223-142.222222 62.577778-142.222222 142.222223c0 5.688889 0 8.533333 2.844444 14.222222L256 398.222222c-22.755556-17.066667-51.2-28.444444-85.333333-28.444444-79.644444 0-142.222222 62.577778-142.222223 142.222222s62.577778 142.222222 142.222223 142.222222c31.288889 0 59.733333-11.377778 85.333333-28.444444l372.622222 213.333333c0 5.688889-2.844444 8.533333-2.844444 14.222222 0 79.644444 62.577778 142.222222 142.222222 142.222223s142.222222-62.577778 142.222222-142.222223-62.577778-142.222222-142.222222-142.222222z"
            fill="" p-id="1274"></path>
        </symbol>
        <symbol id="icon-copy" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2597">
          <path
            d="M682.666667 42.666667H85.333333v682.666666h85.333334V128h512V42.666667zM256 213.333333l4.522667 768H896V213.333333H256z m554.666667 682.666667H341.333333V298.666667h469.333334v597.333333z"
            fill="#525A65" p-id="2598"></path>
        </symbol>
        <symbol id='icon-folder' class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="2103">
          <path
            d="M897.454886 384C897.457811 384.248175 897.45927 384.496712 897.45927 384.745603L897.45927 768.323283C897.45927 803.066202 868.680045 831.999994 833.179072 831.999994L192.280198 832C157.224124 832 128 803.195334 128 767.662976L128 577.341503 128 384 897.454886 384ZM128 320 128 255.894722C128 220.715831 156.673976 192 192.045118 192L569.638012 192C605.046528 192 644.521402 218.443182 657.891085 251.0625L686.146502 320 128 320Z"
            p-id="2104"></path>
        </symbol>
        <symbol id='icon-file' class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="5240">
          <path
            d="M256 85.333333h426.666667l170.666666 170.666667v597.333333a85.333333 85.333333 0 0 1-85.333333 85.333334H256a85.333333 85.333333 0 0 1-85.333333-85.333334V170.666667a85.333333 85.333333 0 0 1 85.333333-85.333334z m391.338667 85.333334H256v682.666666h512V291.328h-120.661333V170.666667z"
            fill="#000000" p-id="5241"></path>
        </symbol>
        <symbol id='icon-recorder' class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="3468">
          <path
            d="M945.6 323.52l-211.52 105.6A96 96 0 0 0 640 352a160 160 0 1 0-192 0H275.84a128 128 0 1 0-165.44 1.92A96 96 0 0 0 32 448v384a96 96 0 0 0 96 96h512a96 96 0 0 0 94.08-77.12l211.52 105.6A32 32 0 0 0 992 928V352a32 32 0 0 0-46.4-28.48zM448 224a96 96 0 1 1 96 96 96 96 0 0 1-96-96zM192 192a64 64 0 1 1-64 64 64 64 0 0 1 64-64z m480 640a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V448a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32z m256 44.16l-192-96v-280.32l192-96z"
            fill="#364F6B" p-id="3469"></path>
          <path
            d="M416 480H224a64 64 0 0 0-64 64v192a64 64 0 0 0 64 64h192a64 64 0 0 0 64-64v-192a64 64 0 0 0-64-64z m-192 256v-192h192v192z"
            fill="#364F6B" p-id="3470"></path>
        </symbol>
        <symbol id='icon-play' class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="6114">
          <path
            d="M802.133333 85.333333h-580.266666C98.986667 85.333333 0 184.32 0 307.2v409.6c0 122.88 98.986667 221.866667 221.866667 221.866667h580.266666c122.88 0 221.866667-98.986667 221.866667-221.866667V307.2c0-122.88-98.986667-221.866667-221.866667-221.866667z m-92.16 440.32l-307.2 204.8c-3.413333 3.413333-6.826667 3.413333-10.24 3.413334-3.413333 0-6.826667 0-6.826666-3.413334-6.826667 0-10.24-6.826667-10.24-13.653333V307.2c0-6.826667 3.413333-13.653333 10.24-13.653333s13.653333-3.413333 17.066666 0l307.2 204.8c3.413333 3.413333 6.826667 6.826667 6.826667 13.653333s-3.413333 10.24-6.826667 13.653333z"
            fill="#d4237a" p-id="6115"></path>
        </symbol>
        <symbol id="icon-telegram" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="2397">
          <path
            d="M881.706667 158.592l-756.48 291.712c-51.626667 20.736-51.328 49.536-9.472 62.378667l194.218666 60.586666 449.365334-283.52c21.248-12.928 40.661333-5.973333 24.704 8.192l-364.074667 328.576h-0.085333l0.085333 0.042667-13.397333 200.192c19.626667 0 28.288-9.002667 39.296-19.626667l94.336-91.733333 196.224 144.938667c36.181333 19.925333 62.165333 9.685333 71.168-33.493334l128.810666-607.061333c13.184-52.864-20.181333-76.8-54.698666-61.184z"
            p-id="2398" fill="#ffffff"></path>
        </symbol>
        <symbol id="icon-whatsapp" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="3963">
          <path
            d="M746.581333 613.632c-12.842667-6.4-75.392-36.992-87.04-41.216-11.648-4.309333-20.181333-6.4-28.714666 6.4-8.405333 12.586667-32.896 41.130667-40.277334 49.578667-7.466667 8.32-14.890667 8.96-27.562666 3.2-12.8-6.4-53.888-19.84-102.528-63.36-37.888-33.92-63.317333-75.52-70.826667-88.32-7.424-12.8-0.810667-19.84 5.546667-26.24 5.802667-5.76 12.842667-14.72 19.242666-22.314667 6.229333-7.722667 8.277333-12.842667 12.672-21.162667 4.266667-8.96 2.090667-16-1.066666-22.357333-3.2-6.4-28.672-69.12-39.338667-94.122667-10.24-24.917333-20.778667-21.76-28.672-21.76-7.338667-0.64-15.829333-0.64-24.362667-0.64-8.533333 0-22.314667 3.157333-34.005333 15.317334-11.648 12.8-44.586667 43.52-44.586667 105.6s45.653333 122.24 52.010667 131.2c6.357333 8.32 89.813333 136.32 217.6 191.36 30.464 12.8 54.186667 20.48 72.704 26.837333 30.464 9.685333 58.24 8.32 80.213333 5.162667 24.490667-3.882667 75.392-30.762667 86.016-60.842667 10.88-30.08 10.88-55.04 7.68-60.8-3.157333-5.76-11.52-8.96-24.32-14.72m-232.362666 317.568h-0.682667c-75.52 0-150.357333-20.48-215.68-58.88l-15.36-9.130667-160 41.6 42.88-155.52-10.197333-16a421.077333 421.077333 0 0 1-64.682667-224.426666c0-232.32 190.08-421.76 424.192-421.76a420.906667 420.906667 0 0 1 299.562667 124.16 417.621333 417.621333 0 0 1 124.117333 298.24c-0.170667 232.277333-190.293333 421.76-423.893333 421.76M875.52 147.157333C778.24 53.12 650.24 0 513.92 0 233.088 0 4.437333 227.584 4.309333 507.434667c0 89.429333 23.424 176.64 68.053334 253.653333L0 1024l270.293333-70.485333a514.645333 514.645333 0 0 0 243.626667 61.738666h0.256c280.96 0 509.696-227.669333 509.824-507.562666 0-135.509333-52.906667-263.04-149.12-358.869334"
            fill="#ffffff" p-id="3964"></path>
        </symbol>
        <symbol id="icon-twitter" class="icon" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="5161">
          <path
            d="M1024.032 194.432c-37.664 16.704-78.176 28-120.672 33.088 43.36-26.016 76.672-67.168 92.384-116.224-40.608 24.064-85.568 41.568-133.408 50.976-38.336-40.832-92.928-66.336-153.344-66.336-116.032 0-210.08 94.048-210.08 210.08 0 16.48 1.856 32.512 5.44 47.872-174.592-8.768-329.408-92.416-433.024-219.52-18.08 31.04-28.448 67.104-28.448 105.632 0 72.896 37.088 137.184 93.472 174.88-34.432-1.088-66.816-10.528-95.168-26.272-0.032 0.864-0.032 1.76-0.032 2.656 0 101.792 72.416 186.688 168.512 206.016-17.632 4.8-36.192 7.36-55.36 7.36-13.536 0-26.688-1.312-39.52-3.776 26.752 83.456 104.32 144.192 196.256 145.888-71.904 56.352-162.496 89.92-260.928 89.92-16.96 0-33.664-0.992-50.112-2.944 92.96 59.616 203.392 94.4 322.048 94.4 386.432 0 597.728-320.128 597.728-597.76 0-9.12-0.192-18.176-0.608-27.168C960.256 273.536 995.872 236.544 1024.032 194.432z"
            p-id="5162" fill="#ffffff"></path>
        </symbol>
        <symbol id="icon-facebook" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="2113">
          <path
            d="M758.88 43.424C743.424 41.152 690.304 36.576 628.576 36.576 499.424 36.576 410.88 115.424 410.88 260L410.88 384.576 265.152 384.576 265.152 553.728 410.88 553.728 410.88 987.424 585.728 987.424 585.728 553.728 730.88 553.728 753.152 384.576 585.728 384.576 585.728 276.576C585.728 228 598.88 194.304 669.152 194.304L758.88 194.304 758.88 43.424Z"
            p-id="2114" fill="#ffffff"></path>
        </symbol>

        <symbol id="icon-download" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5033" ><path d="M934.912 588.8c37.888 36.864 61.44 88.064 61.44 145.408 0 110.592-90.112 200.704-200.704 200.704-111.616 0-201.728-90.112-201.728-201.728 0-8.192 0-15.36 1.024-23.552C607.232 610.304 692.224 532.48 795.648 532.48c53.248 0 102.4 21.504 139.264 56.32z" fill="#F78B7F" p-id="5034"></path><path d="M950.272 512c0 16.384-2.048 31.744-5.12 46.08-41.984-35.84-94.208-55.296-149.504-55.296-116.736 0-215.04 87.04-228.352 203.776v3.072H186.368c-88.064 0-158.72-70.656-158.72-158.72 0-68.608 43.008-125.952 103.424-148.48v-10.24c0-80.896 65.536-147.456 147.456-147.456 25.6 0 50.176 7.168 71.68 18.432 22.528-100.352 112.64-175.104 220.16-175.104 124.928 0 225.28 101.376 225.28 225.28v4.096c88.064 20.48 154.624 100.352 154.624 194.56z" fill="#29D1ED" p-id="5035"></path><path d="M900.096 736.256l-102.4 102.4-101.376-102.4h60.416v-143.36H839.68v143.36z" fill="#FFFFFF" p-id="5036"></path></symbol>
      </defs>
    </svg>
    <add-to-home-screen ></add-to-home-screen>
    <router-view></router-view>
  </div>
</template>

<script>
import { mapActions } from 'vuex'
import AddToHomeScreen from './components/common/addToHomeScreen'

export default {
  name: 'App',
  components: { AddToHomeScreen },
  methods: {
    ...mapActions(['initReadingHistory', 'initSetting', 'saveSystem'])
  },
  created () {
    this.initReadingHistory()
    this.initSetting()
    const userAgent = navigator.userAgent || navigator.vendor
    const isAndroid = /android/i.test(userAgent)
    const isIOS = /iPad|iPhone/.test(userAgent) && !window.MSStream
    let system
    if (isAndroid) {
      system = 'Android'
    } else if (isIOS) {
      system = 'IOS'
    } else {
      system = 'PC'
    }
    this.saveSystem(system)
  },
  mounted () {
    this.$nextTick(() => {
      window.scrollTo(0, 1) // Hiding IOS safari address bar for getting bettter UX
    })
  }

}

</script>

<style lang="scss">
  @import 'src/styles/common.scss';
</style>
